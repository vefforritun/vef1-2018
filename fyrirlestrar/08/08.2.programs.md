---
title: Fyrirlestur 8.2 ‚Äì JavaScript forrit
---

# Fyrirlestur 8.2 ‚Äì JavaScript forrit

## Vefforritun 1 ‚Äî T√ñL107G

### √ìlafur Sverrir Kjartansson, [osk@hi.is](mailto:osk@hi.is)

---

## Seg√∞ir (expressions)

* Seg√∞ er k√≥√∞ab√∫tur sem skilar gildi
  - Tala, stengur o.fl.
* Seg√∞ir geta innihaldi√∞ a√∞rar seg√∞ir
  - `1 + 1`

***

## Skipanir (statement)

* Skipanir eru samans√∂fn af seg√∞um
* Forrit eru samans√∂fn af skipunum
* Einfaldasta skipunin (og seg√∞in, og forriti√∞) er seg√∞ me√∞ sem√≠kommu
  - `1;`

***

## Sem√≠komma

* Sem√≠komma er _statement terminator_ einsog √≠ Java e√∞a C
* Ekki krafa, _Automatic Semicolon Insertion_ s√©r um a√∞ setja inn ef sleppt
* √ûarf a√∞ passa, vi√∞ √¶ttum alltaf a√∞ setja inn sem√≠kommu

***

## Automatic Semicolon Insertion, d√¶mi

<!-- eslint-skip -->

```javascript
return
  a+b
```

t√∫lka√∞ sem

<!-- eslint-skip -->

```javascript
return; a+b;
```

***

<!-- eslint-skip -->

```javascript
foo = a + b
(d + 1)
```

t√∫lka√∞ sem

<!-- eslint-disable no-undef -->

```javascript
foo = a + b(d + 1);
```

---

## Breytur

* Skilgreinum breytur me√∞ lykilor√∞unum `let`, `const` e√∞a `var`
  - `let foo;`
* Getum aukalega gefi√∞ gildi √∫r seg√∞
  - `let foo = 'bar';`
  - `const FOO = 1; // breytun√∂fn eru h√°stafan√¶m`

***

* Megum ekki skilgreina aftur breytu sem √°√∞ur var skilgreind me√∞ `let` e√∞a `const`
* Breytur innihalda ekki gildi, √æau v√≠sa √≠ √æau
* Breytur hafa ekki t√Ωpu, _gildin_ hafa t√Ωpu

***

<!-- eslint-skip -->

```javascript
let foo = 1;
let foo = 2; // SyntaxError
```

***

## D√Ωnam√≠skar breytur

√ûar sem breytur √≠ JavaScript hafa ekki t√Ωpu getum vi√∞ breytt gildum √æeirra.

<!-- eslint-skip -->

```javascript
let a = 'hall√≥ heimur';
```

<!-- eslint-skip -->

```javascript
a = 1;
```

<!-- eslint-skip -->

```javascript
a = false;
```

<!-- eslint-skip -->

```javascript
a = undefined;
```

***

## const

* `const` bannar endurskilgreiningu √° _grunngildi_
* Megum ekki breyta `const` breytu eftir a√∞ h√∫n er skilgreind, f√°um villu

***

<!-- eslint-skip -->

```javascript
const FOO = 1;
FOO = 2; // F√°um TypeError
```

***

## Breytun√∂fn

* Breytur geta heiti√∞ hva√∞a or√∞i sem er
* Mega ekki byrja √° t√∂lustaf
* Mega byrja √° og nota `$` og `_` en engin √∂nnur t√°kn sem ekki eru stafir e√∞a t√∂lustafir
* Getum nota√∞ √≠slensku
  - `let h√¶ = 'üòé';`

***

## Fr√°tekin or√∞

Megum ekki nota √æessi or√∞ sem breytu n√∂fn √æar sem √æau eru lykilor√∞, (samt ekki samr√¶mi milli keyrsluumhverfa):

<!-- eslint-skip -->

```javascript
break case catch class const continue debugger default
delete do else enum export extends false finally for
function if implements import interface in instanceof let
new package private protected public return static super
switch this throw true try typeof var void while with yield
```

---

## Umhverfi (environment)

* √ûegar vi√∞ keyrum JavaScript forritin okkar gerist √æa√∞ √≠ √°kve√∞nu _umhverfi_
* Ekki t√≥mt, inniheldur sta√∞la√∞a hluti og f√∂ll sem eiga vi√∞ umhverfi√∞
  - √ç vafra h√∂fum vi√∞ a√∞ger√∞ir t.d. til a√∞ eiga vi√∞ vefs√≠√∞una, bundi√∞ vi√∞ _window_
  - √ç node.js h√∂fum vi√∞ a√∞ger√∞ir t.d. til a√∞ eiga vi√∞ skr√°arkerfi√∞, bundi√∞ vi√∞ _process_

***

## Vafri

* Vafrar bj√≥√∞a upp √° f√∂ll til a√∞ birta og s√¶kja uppl√Ωsingar fr√° notanda
* `alert()` birtir skilabo√∞ sem notandi ver√∞ur a√∞ sam√æykkja
* `confirm('√° a√∞ gera √æetta?')` birtir skilabo√∞ sem notandi ver√∞ur a√∞ sam√æykkja e√∞a hafna, skilar `boolean`

***

* `prompt('hva√∞ heitir √æ√∫?')` birtir skilabo√∞ og l√≠nu fyrir notanda til a√∞ svara, skilar `null` e√∞a `string`
* √Ütti aldrei (e√∞a afskaplega sjaldan) a√∞ vera nota√∞
  - H√∂fum betri lei√∞ir sem eru ekki jafn upp√°√ærengjandi

***

## Sta√∞la√∞ir hlutir og f√∂ll

* St√∂√∞lu√∞ f√∂ll eru t.d. `parseInt` og `parseFloat`
* Sta√∞la√∞ir hlutir eins og [`Math`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math), [`Number`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number), [`Date`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date) [og fleiri](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects)

***

## Math

* Inniheldur st√¶r√∞fr√¶√∞i fasta og f√∂ll
* `Math.PI`, `Math.E` o.fl.
* `Math.cos()`, `Math.log()` o.fl.
* `Math.max()`, `Math.min()`, `Math.floor()` o.fl

***

## Number

* Inniheldur fasta og f√∂ll til a√∞ eiga vi√∞ t√∂lur
* Hefur endurb√¶ttar √∫tg√°fur af fyrri √∫tg√°fu af `isNaN` og t.d. sama fyrir `parseInt`
* `isInteger()` segir til um hvort tala s√© heiltala e√∞a ekki
* `Number.MAX_VALUE`, `Number.EPSILON`

***

## Epsilon gildi

* Munurinn √° milli `1` og minnstu floating point t√∂lunnar sem er st√¶rri en `1`
* Notum til a√∞ bera saman t√∂lur vegna vandr√¶√∞a me√∞ n√°kv√¶mni

***

<!-- eslint-skip -->

```javascript
0.1 + 0.2 === 0.3; // false
```

<!-- eslint-skip -->

```javascript
Math.abs(0.3 - (0.1+0.2)) < Number.EPSILON;
  // true
```

***

## Date

* Date hluturinn leyfir okkur a√∞ vinna me√∞ dagsetningar √≠ JavaScript
* √ç grunninn byggt √° millisek√∫ndum s√≠√∞an `1970-01-01 00:00:00 UTC`
* Getum skilgreint me√∞ √°ri, m√°nu√∞i, degi, klukku
  - M√°nu√∞ur byrjar √° 0!

***

<!-- eslint-disable no-unused-vars -->

```javascript
const a = new Date();
// N√∫na
```

<!-- eslint-disable no-unused-vars -->

```javascript
const b = new Date(2020, 0, 1, 0, 0, 0);
// 1. jan√∫ar 2020 kl. 00:00:00
```

***

* Getum reikna√∞ me√∞ tveim `Date` hlutum
  - `b - a; // fj√∂ldi millisek√∫nda √æar til b`
* get og set f√∂ll til a√∞ eiga vi√∞ hluti
  - `getYear` og `setYear`
  - o.fl.

---

## Fl√¶√∞ist√Ωringar & lykkjur

* H√∂fum a√∞gang a√∞ fl√¶√∞ist√Ωringum og lykkjum
  - l√≠kjast mj√∂g miki√∞ √æeim sem eru √≠ Java
* St√Ωrum fl√¶√∞i forrita og framkv√¶mum √≠tranir

***

* √ç lykkjum getum vi√∞ nota√∞:
  - `break` til a√∞ brj√≥tast √∫t/h√¶tta √≠ lykkju
  - `continue` til a√∞ sleppa rest af lykkju og halda √°fram √≠ n√¶stu

***

## if

* `if` keyrir k√≥√∞a a√∞eins ef seg√∞ skilar _truthy_ gildi
* Getum keyrt annan k√≥√∞a ef ekki truthy me√∞ `else`
* E√∞a skilgreint fleiri seg√∞ir me√∞ `else if`
* K√≥√∞i sem keyra √° √¶tti a√∞ vera innan `{` og `}`

***

```javascript
const a = 5;
if (a > 5) {
  console.log('st√¶rri en 5');
} else if (a > 1) {
  console.log('st√¶rri en 1');
} else {
  console.log('1 e√∞a minni');
}
```

```javascript
// st√¶rri en 1
```

***

## while og do while lykkjur (loops)

* `while` og `do .. while` lykkjur leyfa okkur a√∞ endurtaka k√≥√∞a svo lengi sem einhver seg√∞ er s√∂nn
* `do .. while` mun alltaf keyra k√≥√∞a einu sinni √°√∞ur en seg√∞ er athugu√∞

***

<!-- eslint-disable no-plusplus -->

```javascript
let i = 1;

while (i++ < 5) {
  console.log(i);
}
```

```javascript
// 2, 3, 4, 5
```

***

## do .. while

while lykkja sem byrjar √° a√∞ keyra einu sinni √≠ gegn

<!-- eslint-disable no-plusplus -->

```javascript
let i = 1;
do {
  console.log(i);
} while (i++ < 5);
```

```javascript
// 1, 2, 3, 4, 5
```

***

## for

* `for` lykkjur eru s√©rh√¶f√∞ari og n√Ωta mj√∂g algent form √° lykkjum:
  - Setja byrjunargildi
  - Athuga n√∫verandi gildi
  - Uppf√¶ra gildi

***

* `for (<byrjunargildi>;<athuga>;<uppf√¶ra>)`
* `for (let i = 0; i < 10; i = i + 1)`
* Getum nota√∞ `break` til a√∞ h√¶tta √≠ lykkju √≠ mi√∞jum kl√≠√∞um

***

## Breytur og virkjar

* Vi√∞ getum beitt virkjum beint √° breytu me√∞ `++` og `--`
  - Ef tala er h√∫n h√¶kku√∞ um einn e√∞a l√¶kku√∞ um einn
* Getum stytt okkur lei√∞ √æegar vi√∞ notum virkja
  - `a += 1;` √≠ sta√∞inn fyrir `a = a + 1;`
  - o.s.fr.

***

<!-- eslint-disable no-continue -->

```javascript
for (let i = 0; i < 100; i++) {
  if (i % 2 === 1) {
    continue;
  }

  if (i > 5) {
    console.log('Yfir 5, h√¶ttum!');
    break;
  }

  console.log(i);
}
```

```javascript
// 0, 2, 4, "Yfir 5, h√¶ttum!"
```

***

## switch

* Ef vi√∞ h√∂fum k√≥√∞a sem notar `if` og `else if` miki√∞ getum vi√∞ nota√∞ `switch`

***

```javascript
const a = 2;
switch (a) {
  case 1:
    console.log('a = 1');
    break;
  case 2:
    console.log('a = 2');
    break;
  default:
    console.log('a = ???');
}
```

```javascript
// a = 2
```

---

## Samsett or√∞ √≠ JavaScript

* JavaScript notar yfirleitt `lowerCamelCase` fyrir heiti √° breytum og f√∂llum
* S√° st√≠ll er nota√∞ur √≠ st√∂√∞lu√∞um f√∂llum
* Hlutir byrja √° st√≥rum staf (t.d. `Math`) vegna √æess a√∞ √æeir eru _constructors_
